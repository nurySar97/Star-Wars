(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{46:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n(0),c=n.n(r),i=n(21),s=n.n(i),o=(n(46),n(14)),u=n(15),l=n(17),p=n(16),d=n(10),j=n(3),f=(n(51),n.p+"static/media/starWarsLogo.d02cf214.png"),h=(n(52),function(){return Object(a.jsx)("div",{className:"starWars",children:Object(a.jsx)("img",{className:"starWars__Img",alt:"starWars",src:f})})}),b=n(11),O=n.n(b),g=n(20),m=n(4),v=n(39).create({baseURL:"https://swapi.dev/api/"}),y=function(t){return v.get("planets/?page=".concat(t))},x=function(t){return v.get("planets/".concat(t,"/"))},P=function(t){return v.get("people/".concat(t,"/"))},_="SET_CURRENT_PAGE",N="SET_PLANETS",C="SET_TOTAL_COUNT",T="SET_IS_FETCHING",k={planets:[],currentPage:1,totalPlanetCount:0,isFetching:!1},w=function(t){return{type:_,payload:t}},S=function(t){return{type:N,payload:t}},E=function(t){return{type:T,payload:t}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T:return Object(m.a)(Object(m.a)({},t),{},{isFetching:e.payload});case C:return Object(m.a)(Object(m.a)({},t),{},{totalPlanetCount:e.payload});case N:return Object(m.a)(Object(m.a)({},t),{},{planets:e.payload});case _:return Object(m.a)(Object(m.a)({},t),{},{currentPage:e.payload});default:return t}},F=n(23),R=(n(71),function(t){var e=t.onPageChanged,n=t.currentPage,r=t.totalPlanetCount,c=Object(F.a)(new Array(Math.ceil(r/10))).map((function(t,r){return Object(a.jsx)("button",{className:n===r+1?"activecell":"cell",onClick:function(){e(r+1)},disabled:n===r+1},r+1)}));return Object(a.jsx)("div",{className:"paginator",children:c})}),I=n.p+"static/media/Jedi.9d65cff0.gif",L=(n(72),function(){return Object(a.jsx)("div",{className:"preloaderJedy",children:Object(a.jsx)("img",{className:"preloaderJedy__img",src:I,alt:""})})}),A=n(13),J=(n(73),function(t){var e,n=t.name,r=t.climate,c=t.population,i=t.id;return Object(a.jsx)(A.b,{className:"planet",to:"/profile/".concat(i),children:Object(a.jsxs)("section",{children:[Object(a.jsx)("div",{className:"planet__img",children:Object(a.jsx)("img",{className:"planet__photo",src:"https://dic.academic.ru/pictures/wiki/files/83/Star_Wars_Logo.svg",alt:""})}),Object(a.jsx)("h1",{children:n}),Object(a.jsxs)("div",{className:"planet__climate",children:[Object(a.jsx)("div",{className:"climate__title",children:Object(a.jsx)("b",{children:"Climate"})}),Object(a.jsx)("div",{children:"unknown"!==r?(e=r,e.split(", ").map((function(t){return t.split("")[0].toLocaleUpperCase()+t.slice(1)})).join(", ")):"No information about climate"})]}),Object(a.jsxs)("div",{className:"planet__population",children:[Object(a.jsx)("div",{className:"population__title",children:Object(a.jsx)("b",{children:"Population"})}),Object(a.jsx)("div",{children:"unknown"!==c?"0"===c?"No residents":c:"No information"})]})]})})}),W=(n(75),function(t){var e=t.planets,n=t.onPageChanged,r=t.totalPlanetCount,c=t.currentPage,i=t.isFetching;return Object(a.jsxs)("div",{className:"Planets",children:[i&&Object(a.jsx)(L,{}),Object(a.jsx)(R,{onPageChanged:n,totalPlanetCount:r,currentPage:c}),Object(a.jsx)("div",{className:"Planets__container",children:e.map((function(t){return"unknown"===t.name?"":Object(a.jsx)(J,{name:t.name,climate:t.climate,population:t.population,id:t.url.split("/")[5]},t.url.split("/")[5])}))})]})}),M=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).onPageChanged=function(e){t.props.getPlanetsThunk(e)},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getPlanetsThunk(this.props.currentPage)}},{key:"render",value:function(){return Object(a.jsx)(W,{planets:this.props.planets,onPageChanged:this.onPageChanged,totalPlanetCount:this.props.totalPlanetCount,currentPage:this.props.currentPage,isFetching:this.props.isFetching})}}]),n}(c.a.Component),U=Object(d.b)((function(t){return{currentPage:t.planetsData.currentPage,planets:t.planetsData.planets,totalPlanetCount:t.planetsData.totalPlanetCount,isFetching:t.planetsData.isFetching}}),{getPlanetsThunk:function(t){return function(){var e=Object(g.a)(O.a.mark((function e(n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(E(!0)),n(w(t)),e.next=4,y(t);case 4:200===(a=e.sent).status&&(n((c=a.data.count,{type:C,payload:c})),r=a.data.results,n(S(r))),n(E(!1));case 7:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}()}})(M),B=n(18),G=function(t){var e=t.name;t.residents;return Object(a.jsx)("h1",{children:e})},q="SET_PROFILE",H="SET_RESIDENT",z="CLEAR_RESIDENT",K={profile:null,residents:[]},Q=function(t){return{type:q,payload:t}},V=function(t){return{type:H,payload:t}},X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case z:return Object(m.a)(Object(m.a)({},t),{},{residents:[]});case H:return Object(m.a)(Object(m.a)({},t),{},{residents:[].concat(Object(F.a)(t.residents),[e.payload])});case q:return Object(m.a)(Object(m.a)({},t),{},{profile:e.payload});default:return t}},Y=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.id;this.props.getPlanetProfileThunk(t),this.props.clearResidents()}},{key:"componentDidUpdate",value:function(t){var e=this;JSON.stringify(t.profile)!==JSON.stringify(this.props.profile)&&this.props.profile.residents.map((function(t){return t.split("/")[5]})).forEach((function(t){e.props.getResidentThunk(t)}))}},{key:"shouldComponentUpdate",value:function(t){return e=t,n=this.props,JSON.stringify(e)!==JSON.stringify(n);var e,n}},{key:"render",value:function(){return Object(a.jsx)(G,Object(m.a)({},this.props.profile))}}]),n}(c.a.Component),Z=Object(B.compose)(Object(d.b)((function(t){return{profile:t.profileData.profile}}),{getPlanetProfileThunk:function(t){return function(){var e=Object(g.a)(O.a.mark((function e(n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:200===(a=e.sent).status&&(r=a.data,n(Q(r)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getResidentThunk:function(t){return function(){var e=Object(g.a)(O.a.mark((function e(n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:200===(a=e.sent).status&&(r=a.data,n(V(r)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},clearResidents:function(){return function(t){t({type:z})}}}),j.f)(Y),$="SET_IS_OPEN",tt={isOpen:!0},et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case $:return Object(m.a)(Object(m.a)({},t),{},{isOpen:e.payload});default:return t}},nt=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.openAppThunk(!1)}},{key:"render",value:function(){return this.props.isOpen?Object(a.jsx)(h,{}):Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(a.jsx)(U,{})}}),Object(a.jsx)(j.a,{path:"/profile/:id",render:function(){return Object(a.jsx)(Z,{})}})]})})})}}]),n}(c.a.Component),at=Object(d.b)((function(t){return{isOpen:t.appData.isOpen}}),{openAppThunk:function(t){return function(e){new Promise((function(t){setTimeout((function(){document.querySelector(".starWars__Img").style.width="0",t()}))})).then((function(){setTimeout((function(){e(function(t){return{type:$,payload:t}}(t))}),3e3)}))}}})(nt),rt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))},ct=n(40),it=n(18),st=it.createStore,ot=it.combineReducers,ut=it.applyMiddleware,lt=st(ot({planetsData:D,profileData:X,appData:et}),ut(ct.a));window.store=lt;var pt=lt;s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(A.a,{basename:"/Star-Wars",children:Object(a.jsx)(d.a,{store:pt,children:Object(a.jsx)(at,{})})})}),document.getElementById("root")),rt()}},[[76,1,2]]]);
//# sourceMappingURL=main.06f2a7d7.chunk.js.map