(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{46:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){},78:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n(0),c=n.n(r),i=n(21),s=n.n(i),o=(n(46),n(14)),u=n(15),l=n(17),p=n(16),d=n(10),j=n(3),f=(n(51),n.p+"static/media/starWarsLogo.d02cf214.png"),h=(n(52),function(){return Object(a.jsx)("div",{className:"starWars",children:Object(a.jsx)("img",{className:"starWars__Img",alt:"starWars",src:f})})}),b=n(11),O=n.n(b),m=n(20),g=n(4),v=n(39).create({baseURL:"https://swapi.dev/api/"}),x=function(t){return v.get("planets/?page=".concat(t))},y=function(t){return v.get("planets/".concat(t,"/"))},_=function(t){return v.get("people/".concat(t,"/"))},P="SET_CURRENT_PAGE",N="SET_PLANETS",C="SET_TOTAL_COUNT",T="SET_IS_FETCHING",k={planets:[],currentPage:1,totalPlanetCount:0,isFetching:!1},w=function(t){return{type:P,payload:t}},E=function(t){return{type:N,payload:t}},S=function(t){return{type:T,payload:t}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T:return Object(g.a)(Object(g.a)({},t),{},{isFetching:e.payload});case C:return Object(g.a)(Object(g.a)({},t),{},{totalPlanetCount:e.payload});case N:return Object(g.a)(Object(g.a)({},t),{},{planets:e.payload});case P:return Object(g.a)(Object(g.a)({},t),{},{currentPage:e.payload});default:return t}},F=n(23),R=(n(71),function(t){var e=t.onPageChanged,n=t.currentPage,r=t.totalPlanetCount,c=Object(F.a)(new Array(Math.ceil(r/10))).map((function(t,r){return Object(a.jsx)("button",{className:n===r+1?"activecell":"cell",onClick:function(){e(r+1)},disabled:n===r+1},r+1)}));return Object(a.jsx)("div",{className:"paginator",children:c})}),I=n.p+"static/media/Jedi.9d65cff0.gif",L=(n(72),function(){return Object(a.jsx)("div",{className:"preloaderJedy",children:Object(a.jsx)("img",{className:"preloaderJedy__img",src:I,alt:""})})}),A=n(13),J=function(t){return t.split(", ").map((function(t){return t.split("")[0].toLocaleUpperCase()+t.slice(1)})).join(", ")},W=(n(73),function(t){var e=t.name,n=t.climate,r=t.population,c=t.id;return Object(a.jsx)(A.b,{className:"planet",to:"/profile/".concat(c),children:Object(a.jsxs)("section",{children:[Object(a.jsx)("div",{className:"planet__img",children:Object(a.jsx)("img",{className:"planet__photo",src:"https://dic.academic.ru/pictures/wiki/files/83/Star_Wars_Logo.svg",alt:""})}),Object(a.jsx)("h1",{children:e}),Object(a.jsxs)("div",{className:"planet__climate",children:[Object(a.jsx)("div",{className:"climate__title",children:Object(a.jsx)("b",{children:"Climate"})}),Object(a.jsx)("div",{children:"unknown"!==n?J(n):"No information about climate"})]}),Object(a.jsxs)("div",{className:"planet__population",children:[Object(a.jsx)("div",{className:"population__title",children:Object(a.jsx)("b",{children:"Population"})}),Object(a.jsx)("div",{children:"unknown"!==r?"0"===r?"No Population":r:"No information"})]})]})})}),M=(n(75),function(t){var e=t.planets,n=t.onPageChanged,r=t.totalPlanetCount,c=t.currentPage,i=t.isFetching;return Object(a.jsxs)("div",{className:"Planets",children:[i&&Object(a.jsx)(L,{}),Object(a.jsx)(R,{onPageChanged:n,totalPlanetCount:r,currentPage:c}),Object(a.jsx)("div",{className:"Planets__container",children:e.map((function(t){return"unknown"===t.name?"":Object(a.jsx)(W,{name:t.name,climate:t.climate,population:t.population,id:t.url.split("/")[5]},t.url.split("/")[5])}))})]})}),U=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).onPageChanged=function(e){t.props.getPlanetsThunk(e)},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getPlanetsThunk(this.props.currentPage)}},{key:"render",value:function(){return Object(a.jsx)(M,{planets:this.props.planets,onPageChanged:this.onPageChanged,totalPlanetCount:this.props.totalPlanetCount,currentPage:this.props.currentPage,isFetching:this.props.isFetching})}}]),n}(c.a.Component),G=Object(d.b)((function(t){return{currentPage:t.planetsData.currentPage,planets:t.planetsData.planets,totalPlanetCount:t.planetsData.totalPlanetCount,isFetching:t.planetsData.isFetching}}),{getPlanetsThunk:function(t){return function(){var e=Object(m.a)(O.a.mark((function e(n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(S(!0)),n(w(t)),e.next=4,x(t);case 4:200===(a=e.sent).status&&(n((c=a.data.count,{type:C,payload:c})),r=a.data.results,n(E(r))),n(S(!1));case 7:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}()}})(U),B=n(18),q=(n(76),n(77),function(t,e){return Object(a.jsx)("tbody",{className:"profile__tbody",children:Object(a.jsxs)("tr",{className:"profile__row",children:[Object(a.jsx)("td",{className:"profile__name",children:t}),Object(a.jsx)("td",{className:"profile__amount",children:e})]})})}),H=function(t){var e=t.name,n=t.rotation_period,r=t.diameter,c=t.climate,i=t.gravity,s=t.terrain,o=t.population,u=(t.residents,c?J(c):c),l=s?J(s):s;return Object(a.jsx)("div",{className:"profile",children:Object(a.jsxs)("div",{className:"profile__container",children:[Object(a.jsx)("div",{className:"profile__title",children:e}),Object(a.jsxs)("table",{className:"profile__table",children:[q("Rotation Period",n),q("Diameter",r),q("Climate",u),q("Gravity",i),q("Terrain",l),q("Population",o)]})]})})},z="SET_PROFILE",K="SET_RESIDENT",Q="CLEAR_RESIDENT",V={profile:null,residents:[]},X=function(t){return{type:z,payload:t}},Y=function(t){return{type:K,payload:t}},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Q:return Object(g.a)(Object(g.a)({},t),{},{residents:[]});case K:return Object(g.a)(Object(g.a)({},t),{},{residents:[].concat(Object(F.a)(t.residents),[e.payload])});case z:return Object(g.a)(Object(g.a)({},t),{},{profile:e.payload});default:return t}},$=function(t,e){return JSON.stringify(t)!==JSON.stringify(e)},tt=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.id;this.props.getPlanetProfileThunk(t),this.props.clearResidents()}},{key:"componentDidUpdate",value:function(t){var e=this;$(t.profile,this.props.profile)&&this.props.profile.residents.map((function(t){return t.split("/")[5]})).forEach((function(t){e.props.getResidentThunk(t)}))}},{key:"shouldComponentUpdate",value:function(t){return!!$(t,this.props)}},{key:"render",value:function(){return Object(a.jsx)(H,Object(g.a)({},this.props.profile))}}]),n}(c.a.Component),et=Object(B.compose)(Object(d.b)((function(t){return{profile:t.profileData.profile}}),{getPlanetProfileThunk:function(t){return function(){var e=Object(m.a)(O.a.mark((function e(n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:200===(a=e.sent).status&&(r=a.data,n(X(r)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getResidentThunk:function(t){return function(){var e=Object(m.a)(O.a.mark((function e(n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:200===(a=e.sent).status&&(r=a.data,n(Y(r)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},clearResidents:function(){return function(t){t({type:Q})}}}),j.f)(tt),nt="SET_IS_OPEN",at={isOpen:!0},rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case nt:return Object(g.a)(Object(g.a)({},t),{},{isOpen:e.payload});default:return t}},ct=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.openAppThunk(!1)}},{key:"render",value:function(){return this.props.isOpen?Object(a.jsx)(h,{}):Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(a.jsx)(G,{})}}),Object(a.jsx)(j.a,{path:"/profile/:id",render:function(){return Object(a.jsx)(et,{})}})]})})})}}]),n}(c.a.Component),it=Object(d.b)((function(t){return{isOpen:t.appData.isOpen}}),{openAppThunk:function(t){return function(e){new Promise((function(t){setTimeout((function(){document.querySelector(".starWars__Img").style.width="0",t()}))})).then((function(){setTimeout((function(){e(function(t){return{type:nt,payload:t}}(t))}),3e3)}))}}})(ct),st=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))},ot=n(40),ut=n(18),lt=ut.createStore,pt=ut.combineReducers,dt=ut.applyMiddleware,jt=lt(pt({planetsData:D,profileData:Z,appData:rt}),dt(ot.a));window.store=jt;var ft=jt;s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(A.a,{basename:"/Star-Wars",children:Object(a.jsx)(d.a,{store:ft,children:Object(a.jsx)(it,{})})})}),document.getElementById("root")),st()}},[[78,1,2]]]);
//# sourceMappingURL=main.e92da3a9.chunk.js.map